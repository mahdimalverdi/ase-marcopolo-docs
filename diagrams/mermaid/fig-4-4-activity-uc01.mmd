flowchart TD
  A([شروع]) --> B[دریافت ورودی جست‌وجو]
  B --> C{اعتبارسنجی ورودی}
  C -- نامعتبر --> X[برگشت خطای اعتبارسنجی] --> Z([پایان])
  C -- معتبر --> D[ساخت کلید جست‌وجو]
  D --> E{Cache Hit؟}
  E -- بله --> F[خواندن نتیجه از Cache] --> G[اعمال صفحه‌بندی/مرتب‌سازی] --> Z
  E -- خیر --> H[ارسال درخواست هم‌زمان به تأمین‌کنندگان]
  H --> I[کنترل مهلت زمانی و خطا]
  I --> J[تجمیع و یکسان‌سازی پاسخ‌ها]
  J --> K[حذف موارد تکراری و اعمال فیلترها]
  K --> L{نتیجه ناقص؟}
  L -- بله --> M[نمایش با پیام «کاهش سطح خدمت»]
  L -- خیر --> N[نمایش نتیجه کامل]
  M --> O[ذخیره نتیجه در Cache]
  N --> O
  O --> Z([پایان])

