classDiagram
  class Booking {
    +string bookingId
    +string status
    +datetime createdAt
    +datetime expiresAt
  }

  class Passenger {
    +string fullName
    +string nationalId
    +date birthDate
  }

  class PaymentTransaction {
    +string transactionId
    +string gatewayRef
    +int amount
    +string status
    +string idempotencyKey
  }

  class Ticket {
    +string ticketId
    +string providerRef
    +string issueStatus
  }

  class ProviderAdapter {
    +search()
    +review()
    +issue()
    +refund()
  }
  <<interface>> ProviderAdapter

  Booking "1" --> "*" Passenger : "شامل"
  Booking "1" --> "0..*" PaymentTransaction : "تراکنش‌ها"
  Booking "1" --> "0..1" Ticket : "نتیجه صدور"
  ProviderAdapter ..> Booking : "صدور/استرداد"
