classDiagram
  class Booking

  class Passenger

  class PaymentTransaction

  class Ticket

  class ProviderAdapter
  <<interface>> ProviderAdapter

  Booking : +string bookingId
  Booking : +string status
  Booking : +datetime createdAt
  Booking : +datetime expiresAt

  Passenger : +string fullName
  Passenger : +string nationalId
  Passenger : +date birthDate

  PaymentTransaction : +string transactionId
  PaymentTransaction : +string gatewayRef
  PaymentTransaction : +int amount
  PaymentTransaction : +string status
  PaymentTransaction : +string idempotencyKey

  Ticket : +string ticketId
  Ticket : +string providerRef
  Ticket : +string issueStatus

  ProviderAdapter : +search()
  ProviderAdapter : +review()
  ProviderAdapter : +issue()
  ProviderAdapter : +refund()

  Booking "1" --> "*" Passenger : "شامل"
  Booking "1" --> "0..*" PaymentTransaction : "تراکنش‌ها"
  Booking "1" --> "0..1" Ticket : "نتیجه صدور"
  ProviderAdapter ..> Booking : "صدور/استرداد"
